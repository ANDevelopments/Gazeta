CREATE DATABASE RepairBCNF
GO
USE RepairBCNF
GO

CREATE TABLE Register(
UserID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
UserLogin VARCHAR(50) NOT NULL,
UserPassword VARCHAR(50) NOT NULL
);

CREATE TABLE Client(
ID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
FullName VARCHAR(50) NOT NULL,
Adress VARCHAR(100),
Telephone VARCHAR(20),
);

CREATE TABLE Serv(
ID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
ServiceName VARCHAR(50) NOT NULL,
Price DECIMAL NOT NULL
);

CREATE TABLE Progress(
ID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
Progress VARCHAR(20) NOT NULL
);

CREATE TABLE Orders(
ID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
ClientID INT NOT NULL,
ServiceID INT NOT NULL,
Descript VARCHAR(200),
OrderDate DATE NOT NULL DEFAULT GETDATE(),
Execution DATE,
ProgressID INT NOT NULL,
FOREIGN KEY(ClientID) REFERENCES Client(ID),
FOREIGN KEY(ServiceID) REFERENCES Serv(ID),
FOREIGN KEY(ProgressID) REFERENCES Progress(ID)
);

CREATE TABLE Document(
ID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
ClientID INT NOT NULL,
OrderID INT NOT NULL,
Total DECIMAL,
DocumentDate DATE NOT NULL DEFAULT GETDATE(),
FOREIGN KEY(ClientID) REFERENCES Client(ID),
FOREIGN KEY(OrderID) REFERENCES Orders(ID)
);
